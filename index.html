<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>åˆ†è§£ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼ with å·¥å…·åˆ¤å®š</title>
  <style>
    body { font-family: sans-serif; background: #f4f4f4; padding: 20px; }
    #container { position: relative; width: 200px; height: 300px; margin: auto; }
    .screw {
      width: 30px; height: 30px; position: absolute; cursor: pointer;
    }
    #screw1 { top: 5px; left: 5px; }
    #screw2 { top: 5px; right: 5px; }
    #screw3 { bottom: 5px; left: 5px; }
    #screw4 { bottom: 5px; right: 5px; }
    #lcdPanel, #mainBoard {
      position: absolute;
      top: 25px; left: 25px;
      width: 150px; height: 250px;
      cursor: pointer;
    }
    #mainBoard { display: none; }
    .tool-btn { margin: 5px; padding: 6px 12px; cursor: pointer; }
    #log { margin-top: 20px; color: red; font-weight: bold; text-align: center; }
  </style>
</head>
<body>

<h2>å·¥å…·ã‚’é¸ã‚“ã§ãƒã‚¸ã¨ãƒ‘ãƒãƒ«ã‚’å¤–ãã†</h2>

<div style="text-align: center;">
  <button class="tool-btn" onclick="selectTool('star')">ğŸ”© æ˜Ÿå½¢ãƒ‰ãƒ©ã‚¤ãƒãƒ¼</button>
  <button class="tool-btn" onclick="selectTool('spudger')">ğŸª› ãƒ˜ãƒ©</button>
  <button class="tool-btn" onclick="selectTool('other')">ğŸ§° ãã®ä»–</button>
</div>

<div id="container">
  <!-- ãƒã‚¸4æœ¬ -->
  <div id="screw1" class="screw" onclick="removeScrew(1)">
    <svg width="30" height="30"><circle cx="15" cy="15" r="13" fill="#ccc" stroke="#555" stroke-width="2"/>
    <line x1="5" y1="15" x2="25" y2="15" stroke="#333" stroke-width="2"/>
    <line x1="15" y1="5" x2="15" y2="25" stroke="#333" stroke-width="2"/></svg>
  </div>
  <div id="screw2" class="screw" onclick="removeScrew(2)">
    <svg width="30" height="30"><circle cx="15" cy="15" r="13" fill="#ccc" stroke="#555" stroke-width="2"/>
    <line x1="5" y1="15" x2="25" y2="15" stroke="#333" stroke-width="2"/>
    <line x1="15" y1="5" x2="15" y2="25" stroke="#333" stroke-width="2"/></svg>
  </div>
  <div id="screw3" class="screw" onclick="removeScrew(3)">
    <svg width="30" height="30"><circle cx="15" cy="15" r="13" fill="#ccc" stroke="#555" stroke-width="2"/>
    <line x1="5" y1="15" x2="25" y2="15" stroke="#333" stroke-width="2"/>
    <line x1="15" y1="5" x2="15" y2="25" stroke="#333" stroke-width="2"/></svg>
  </div>
  <div id="screw4" class="screw" onclick="removeScrew(4)">
    <svg width="30" height="30"><circle cx="15" cy="15" r="13" fill="#ccc" stroke="#555" stroke-width="2"/>
    <line x1="5" y1="15" x2="25" y2="15" stroke="#333" stroke-width="2"/>
    <line x1="15" y1="5" x2="15" y2="25" stroke="#333" stroke-width="2"/></svg>
  </div>

  <!-- æ¶²æ™¶ãƒ‘ãƒãƒ« -->
  <svg id="lcdPanel" onclick="removeLcd()" xmlns="http://www.w3.org/2000/svg">
    <rect x="0" y="0" width="150" height="250" rx="10" ry="10" fill="#2c3e50" stroke="#34495e" stroke-width="4"/>
    <text x="75" y="135" font-size="18" fill="white" text-anchor="middle">LCD</text>
  </svg>

  <!-- åŸºæ¿ -->
  <svg id="mainBoard" xmlns="http://www.w3.org/2000/svg">
    <rect x="0" y="0" width="120" height="180" rx="5" ry="5" fill="#27ae60" stroke="#1e8449" stroke-width="4"/>
    <circle cx="60" cy="90" r="10" fill="#ecf0f1"/>
    <text x="60" y="150" font-size="14" fill="white" text-anchor="middle">åŸºæ¿</text>
  </svg>
</div>

<div id="log">ç¾åœ¨ã®å·¥å…·ï¼šæœªé¸æŠ</div>

<script>
  let screwsRemoved = [false, false, false, false];
  let selectedTool = null;

  function selectTool(tool) {
    selectedTool = tool;
    let name = {
      star: 'æ˜Ÿå½¢ãƒ‰ãƒ©ã‚¤ãƒãƒ¼',
      spudger: 'ãƒ˜ãƒ©',
      other: 'ãã®ä»–å·¥å…·'
    }[tool];
    logMsg(`ç¾åœ¨ã®å·¥å…·ï¼š${name}`);
  }

  function removeScrew(index) {
    if (selectedTool !== 'star') {
      return logMsg("ã“ã®ãƒã‚¸ã¯æ˜Ÿå½¢ãƒ‰ãƒ©ã‚¤ãƒãƒ¼ã§ãªã„ã¨å¤–ã›ã¾ã›ã‚“ï¼");
    }
    document.getElementById(`screw${index}`).style.display = "none";
    screwsRemoved[index - 1] = true;
    checkAllScrews();
  }

  function checkAllScrews() {
    if (screwsRemoved.every(Boolean)) {
      document.getElementById("lcdPanel").style.stroke = "#f1c40f";
      logMsg("ãƒã‚¸ã‚’ã™ã¹ã¦å¤–ã—ã¾ã—ãŸï¼LCDã‚’ãƒ˜ãƒ©ã§å–ã‚Šå¤–ã›ã¾ã™ã€‚");
    }
  }

  function removeLcd() {
    if (!screwsRemoved.every(Boolean)) {
      return logMsg("å…ˆã«ãƒã‚¸ã‚’ã™ã¹ã¦å¤–ã—ã¦ãã ã•ã„ï¼");
    }
    if (selectedTool !== 'spudger') {
      return logMsg("LCDã‚’å¤–ã™ã«ã¯ãƒ˜ãƒ©ãŒå¿…è¦ã§ã™ï¼");
    }
    document.getElementById("lcdPanel").style.display = "none";
    document.getElementById("mainBoard").style.display = "block";
    logMsg("LCDã‚’å¤–ã—ã¾ã—ãŸï¼åŸºæ¿ãŒè¦‹ãˆã¾ã—ãŸã€‚");
  }

  function logMsg(msg) {
    document.getElementById("log").innerText = msg;
  }
</script>

</body>
</html>
