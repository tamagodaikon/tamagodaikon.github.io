<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>iPhone分解シミュレーター</title>
  <style>
    body { font-family: sans-serif; background: #f4f4f4; padding: 20px; }
    #container { position: relative; width: 200px; height: 300px; margin: auto; }
    .screw {
      width: 30px; height: 30px; position: absolute; cursor: pointer;
    }
    #screw1 { top: 5px; left: 5px; }
    #screw2 { top: 5px; right: 5px; }
    #screw3 { bottom: 5px; left: 5px; }
    #screw4 { bottom: 5px; right: 5px; }
    #lcdPanel, #mainBoard {
      position: absolute;
      top: 25px; left: 25px;
      width: 150px; height: 250px;
      cursor: pointer;
    }
    #mainBoard { display: none; }
  </style>
</head>
<body>

<h2>iPhone分解シミュレーター</h2>
<p>ネジをクリックして外してください（4つすべて）。</p>
<div id="container">
  <!-- ネジ4本 -->
  <div id="screw1" class="screw" onclick="removeScrew(1)">
    <svg width="30" height="30"><circle cx="15" cy="15" r="13" fill="#ccc" stroke="#555" stroke-width="2"/>
    <line x1="5" y1="15" x2="25" y2="15" stroke="#333" stroke-width="2"/>
    <line x1="15" y1="5" x2="15" y2="25" stroke="#333" stroke-width="2"/></svg>
  </div>
  <div id="screw2" class="screw" onclick="removeScrew(2)">
    <svg width="30" height="30"><circle cx="15" cy="15" r="13" fill="#ccc" stroke="#555" stroke-width="2"/>
    <line x1="5" y1="15" x2="25" y2="15" stroke="#333" stroke-width="2"/>
    <line x1="15" y1="5" x2="15" y2="25" stroke="#333" stroke-width="2"/></svg>
  </div>
  <div id="screw3" class="screw" onclick="removeScrew(3)">
    <svg width="30" height="30"><circle cx="15" cy="15" r="13" fill="#ccc" stroke="#555" stroke-width="2"/>
    <line x1="5" y1="15" x2="25" y2="15" stroke="#333" stroke-width="2"/>
    <line x1="15" y1="5" x2="15" y2="25" stroke="#333" stroke-width="2"/></svg>
  </div>
  <div id="screw4" class="screw" onclick="removeScrew(4)">
    <svg width="30" height="30"><circle cx="15" cy="15" r="13" fill="#ccc" stroke="#555" stroke-width="2"/>
    <line x1="5" y1="15" x2="25" y2="15" stroke="#333" stroke-width="2"/>
    <line x1="15" y1="5" x2="15" y2="25" stroke="#333" stroke-width="2"/></svg>
  </div>

  <!-- 液晶パネル -->
  <svg id="lcdPanel" onclick="removeLcd()" xmlns="http://www.w3.org/2000/svg">
    <rect x="0" y="0" width="150" height="250" rx="10" ry="10" fill="#2c3e50" stroke="#34495e" stroke-width="4"/>
    <text x="75" y="135" font-size="18" fill="white" text-anchor="middle">LCD</text>
  </svg>

  <!-- 基板 -->
  <svg id="mainBoard" xmlns="http://www.w3.org/2000/svg">
    <rect x="0" y="0" width="120" height="180" rx="5" ry="5" fill="#27ae60" stroke="#1e8449" stroke-width="4"/>
    <circle cx="60" cy="90" r="10" fill="#ecf0f1"/>
    <text x="60" y="150" font-size="14" fill="white" text-anchor="middle">基板</text>
  </svg>
</div>

<script>
  let screwsRemoved = [false, false, false, false];

  function removeScrew(index) {
    document.getElementById(`screw${index}`).style.display = "none";
    screwsRemoved[index - 1] = true;
    checkAllScrews();
  }

  function checkAllScrews() {
    if (screwsRemoved.every(Boolean)) {
      document.getElementById("lcdPanel").style.stroke = "#f1c40f";
    }
  }

  function removeLcd() {
    if (!screwsRemoved.every(Boolean)) {
      alert("ネジを全部外してください！");
      return;
    }
    document.getElementById("lcdPanel").style.display = "none";
    document.getElementById("mainBoard").style.display = "block";
  }
</script>

</body>
</html>
